# ğŸš€ å¤§ç–†æ— äººæœºè§†è§‰æ™ºèƒ½Agentç³»ç»Ÿ - å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 10/11
- **Pythonç‰ˆæœ¬**: 3.9 æˆ–æ›´é«˜
- **å†…å­˜**: è‡³å°‘ 4GB RAM
- **ç£ç›˜ç©ºé—´**: è‡³å°‘ 2GB å¯ç”¨ç©ºé—´

### å¿…è¦è½¯ä»¶
- Python 3.9+
- Gitï¼ˆå¯é€‰ï¼Œç”¨äºDVCï¼‰
- æµè§ˆå™¨ï¼ˆChrome/Edgeæ¨èï¼‰

---

## ğŸ”§ éƒ¨ç½²æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡ï¼ˆ5åˆ†é’Ÿï¼‰

```powershell
# 1. æ‰“å¼€PowerShellï¼ˆç®¡ç†å‘˜æƒé™ï¼‰
# 2. åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•
cd D:\mlflow_learning_project
# æˆ–åˆ›å»ºæ–°ç›®å½•
cd D:\
mkdir dji_drone_vision_agent
cd dji_drone_vision_agent

# 3. åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒ
# æ–¹å¼Aï¼šä½¿ç”¨Condaï¼ˆæ¨èï¼‰
conda create -n drone_agent python=3.9 -y
conda activate drone_agent

# æ–¹å¼Bï¼šä½¿ç”¨venv
python -m venv venv
.\venv\Scripts\activate
```

### ç¬¬äºŒæ­¥ï¼šå®‰è£…ä¾èµ–ï¼ˆ10åˆ†é’Ÿï¼‰

```powershell
# 1. ç¡®ä¿åœ¨è™šæ‹Ÿç¯å¢ƒä¸­
# æ£€æŸ¥Pythonè·¯å¾„
python --version

# 2. å‡çº§pip
python -m pip install --upgrade pip

# 3. å®‰è£…ä¾èµ–åŒ…
# å¦‚æœç½‘ç»œè¾ƒæ…¢ï¼Œä½¿ç”¨å›½å†…é•œåƒ
pip install -r requirements_agent.txt -i https://pypi.tuna.tsinghua.edu.cn/simple

# æˆ–é€ä¸ªå®‰è£…å…³é”®åŒ…
pip install streamlit mlflow torch sqlalchemy pandas plotly opencv-python pillow -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºé¡¹ç›®ç»“æ„ï¼ˆ5åˆ†é’Ÿï¼‰

```powershell
# åˆ›å»ºå¿…è¦çš„ç›®å½•
New-Item -ItemType Directory -Force -Path app\web, app\agents, app\models, app\database, app\utils
New-Item -ItemType Directory -Force -Path data\raw\images, data\processed\train, data\processed\val, data\processed\test
New-Item -ItemType Directory -Force -Path database, outputs\models, outputs\logs, scripts, docs

# åˆ›å»º__init__.pyæ–‡ä»¶
New-Item -ItemType File -Force -Path app\__init__.py, app\web\__init__.py, app\agents\__init__.py, app\models\__init__.py, app\database\__init__.py
```

### ç¬¬å››æ­¥ï¼šåˆå§‹åŒ–æ•°æ®åº“ï¼ˆ2åˆ†é’Ÿï¼‰

```powershell
# è¿è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
python scripts\setup_database.py

# éªŒè¯æ•°æ®åº“åˆ›å»º
Test-Path database\drone_vision.db
# åº”è¯¥è¿”å› True
```

### ç¬¬äº”æ­¥ï¼šé…ç½®ç³»ç»Ÿï¼ˆ3åˆ†é’Ÿï¼‰

```powershell
# 1. æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨
Test-Path config.yaml

# 2. å¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆæˆ–ä½¿ç”¨å·²æä¾›çš„config.yamlï¼‰
# é…ç½®æ–‡ä»¶åº”è¯¥å·²ç»åœ¨é¡¹ç›®ä¸­

# 3. éªŒè¯é…ç½®æ–‡ä»¶æ ¼å¼
python -c "import yaml; yaml.safe_load(open('config.yaml'))"
```

### ç¬¬å…­æ­¥ï¼šå‡†å¤‡Webåº”ç”¨ï¼ˆ5åˆ†é’Ÿï¼‰

```powershell
# 1. å°†ç®€åŒ–ç‰ˆStreamlitåº”ç”¨å¤åˆ¶åˆ°æ­£ç¡®ä½ç½®
# å¦‚æœapp/web/streamlit_app_simple.pyå­˜åœ¨ï¼Œå¯ä»¥é‡å‘½åä¸ºstreamlit_app.py
Copy-Item app\web\streamlit_app_simple.py app\web\streamlit_app.py -Force

# 2. éªŒè¯æ–‡ä»¶å­˜åœ¨
Test-Path app\web\streamlit_app.py
```

### ç¬¬ä¸ƒæ­¥ï¼šå¯åŠ¨ç³»ç»Ÿï¼ˆ1åˆ†é’Ÿï¼‰

```powershell
# æ–¹å¼1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
python scripts\start_system.py

# æ–¹å¼2ï¼šç›´æ¥å¯åŠ¨Streamlit
streamlit run app\web\streamlit_app.py --server.port 8501

# æ–¹å¼3ï¼šæ‰‹åŠ¨å¯åŠ¨ï¼ˆå¦‚æœå¯åŠ¨è„šæœ¬æœ‰é—®é¢˜ï¼‰
# æ‰“å¼€æ–°çš„PowerShellçª—å£
cd D:\mlflow_learning_project  # æˆ–ä½ çš„é¡¹ç›®ç›®å½•
conda activate drone_agent
streamlit run app\web\streamlit_app.py
```

### ç¬¬å…«æ­¥ï¼šè®¿é—®ç³»ç»Ÿï¼ˆ1åˆ†é’Ÿï¼‰

1. **è‡ªåŠ¨æ‰“å¼€**: å¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
2. **æ‰‹åŠ¨è®¿é—®**: 
   - æ‰“å¼€æµè§ˆå™¨
   - è®¿é—®: `http://localhost:8501`
3. **æ£€æŸ¥ç•Œé¢**: 
   - åº”è¯¥çœ‹åˆ°"å¤§ç–†æ— äººæœºè§†è§‰æ™ºèƒ½Agentç³»ç»Ÿ"æ ‡é¢˜
   - å·¦ä¾§æœ‰å¯¼èˆªèœå•

---

## âœ… éªŒè¯éƒ¨ç½²

### æ£€æŸ¥æ¸…å•

```powershell
# 1. æ£€æŸ¥Pythonç¯å¢ƒ
python --version
# åº”è¯¥æ˜¾ç¤º Python 3.9.x æˆ–æ›´é«˜

# 2. æ£€æŸ¥å…³é”®åŒ…
python -c "import streamlit, mlflow, torch, sqlalchemy; print('âœ… æ‰€æœ‰å…³é”®åŒ…å·²å®‰è£…')"

# 3. æ£€æŸ¥æ•°æ®åº“
python -c "import sqlite3; conn = sqlite3.connect('database/drone_vision.db'); print('âœ… æ•°æ®åº“è¿æ¥æˆåŠŸ'); conn.close()"

# 4. æ£€æŸ¥WebæœåŠ¡
# æµè§ˆå™¨è®¿é—® http://localhost:8501
# åº”è¯¥èƒ½çœ‹åˆ°Webç•Œé¢
```

### åŠŸèƒ½æµ‹è¯•

1. **ç³»ç»Ÿæ¦‚è§ˆé¡µé¢**
   - æŸ¥çœ‹å…³é”®æŒ‡æ ‡æ˜¯å¦æ˜¾ç¤º
   - æ£€æŸ¥å›¾è¡¨æ˜¯å¦æ­£å¸¸æ˜¾ç¤º

2. **æ•°æ®ç®¡ç†é¡µé¢**
   - å°è¯•æ·»åŠ ä¸€ä¸ªæ–°æ•°æ®ç‰ˆæœ¬
   - æŸ¥çœ‹ç‰ˆæœ¬åˆ—è¡¨æ˜¯å¦æ›´æ–°

3. **å®éªŒè·Ÿè¸ªé¡µé¢**
   - åˆ›å»ºæ–°å®éªŒ
   - æŸ¥çœ‹å®éªŒåˆ—è¡¨

4. **æ™ºèƒ½åˆ†æé¡µé¢**
   - ä¸Šä¼ ä¸€å¼ æµ‹è¯•å›¾åƒ
   - è¿è¡Œåˆ†æåŠŸèƒ½

---

## ğŸ› å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜1ï¼šæ‰¾ä¸åˆ°æ¨¡å—

```powershell
# é”™è¯¯: ModuleNotFoundError: No module named 'xxx'
# è§£å†³: å®‰è£…ç¼ºå¤±çš„åŒ…
pip install xxx

# æˆ–é‡æ–°å®‰è£…æ‰€æœ‰ä¾èµ–
pip install -r requirements_agent.txt
```

### é—®é¢˜2ï¼šç«¯å£è¢«å ç”¨

```powershell
# é”™è¯¯: Port 8501 is already in use
# è§£å†³: ä½¿ç”¨å…¶ä»–ç«¯å£
streamlit run app\web\streamlit_app.py --server.port 8502

# æˆ–å…³é—­å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :8501
# æ‰¾åˆ°PIDå
taskkill /PID <PID> /F
```

### é—®é¢˜3ï¼šæ•°æ®åº“é”™è¯¯

```powershell
# é”™è¯¯: database is locked
# è§£å†³: å…³é—­æ‰€æœ‰æ•°æ®åº“è¿æ¥ï¼Œé‡æ–°åˆå§‹åŒ–
# åˆ é™¤æ—§æ•°æ®åº“ï¼ˆè°¨æ…æ“ä½œï¼‰
Remove-Item database\drone_vision.db -Force
# é‡æ–°åˆå§‹åŒ–
python scripts\setup_database.py
```

### é—®é¢˜4ï¼šStreamlitåº”ç”¨æ‰¾ä¸åˆ°

```powershell
# é”™è¯¯: FileNotFoundError
# è§£å†³: æ£€æŸ¥æ–‡ä»¶è·¯å¾„
Get-ChildItem -Recurse -Filter streamlit_app*.py

# ç¡®ä¿æ–‡ä»¶åœ¨æ­£ç¡®ä½ç½®
# app/web/streamlit_app.py
```

### é—®é¢˜5ï¼šä¾èµ–å®‰è£…å¤±è´¥

```powershell
# é”™è¯¯: pip install failed
# è§£å†³: ä½¿ç”¨å›½å†…é•œåƒæº
pip install -r requirements_agent.txt -i https://pypi.tuna.tsinghua.edu.cn/simple

# æˆ–é€ä¸ªå®‰è£…
pip install streamlit -i https://pypi.tuna.tsinghua.edu.cn/simple
pip install mlflow -i https://pypi.tuna.tsinghua.edu.cn/simple
# ... å…¶ä»–åŒ…
```

---

## ğŸ“Š éƒ¨ç½²åé…ç½®

### MLflow UIï¼ˆå¯é€‰ï¼‰

```powershell
# åœ¨å¦ä¸€ä¸ªPowerShellçª—å£å¯åŠ¨
conda activate drone_agent
mlflow ui --port 5000

# è®¿é—®: http://localhost:5000
```

### æ•°æ®ç›®å½•å‡†å¤‡

```powershell
# å¦‚æœéœ€è¦æµ‹è¯•æ•°æ®ï¼Œå¯ä»¥è¿è¡Œ
python scripts\prepare_test_images.py  # å¦‚æœå­˜åœ¨

# æˆ–æ‰‹åŠ¨æ·»åŠ æµ‹è¯•å›¾åƒåˆ°
# data/raw/images/
```

---

## ğŸ¯ å¿«é€Ÿæµ‹è¯•æµç¨‹

### å®Œæ•´æµ‹è¯•æµç¨‹ï¼ˆ10åˆ†é’Ÿï¼‰

```powershell
# 1. å¯åŠ¨ç³»ç»Ÿ
python scripts\start_system.py

# 2. åœ¨Webç•Œé¢ä¸­ï¼š
#    - è¿›å…¥"æ•°æ®ç®¡ç†"é¡µé¢
#    - æ·»åŠ ä¸€ä¸ªæµ‹è¯•æ•°æ®ç‰ˆæœ¬ï¼ˆè·¯å¾„: data/processed/trainï¼‰
#    
#    - è¿›å…¥"å®éªŒè·Ÿè¸ª"é¡µé¢
#    - åˆ›å»ºä¸€ä¸ªæ–°å®éªŒ
#    
#    - è¿›å…¥"æ™ºèƒ½åˆ†æ"é¡µé¢
#    - ä¸Šä¼ ä¸€å¼ å›¾åƒå¹¶åˆ†æ
#    
#    - è¿”å›"ç³»ç»Ÿæ¦‚è§ˆ"é¡µé¢
#    - æŸ¥çœ‹æ•°æ®æ˜¯å¦æ›´æ–°

# 3. éªŒè¯MLflowï¼ˆå¯é€‰ï¼‰
# å¯åŠ¨MLflow UI
mlflow ui
# è®¿é—® http://localhost:5000
```

---

## ğŸ“ éƒ¨ç½²æˆåŠŸæ ‡å¿—

âœ… **æ‰€æœ‰æ£€æŸ¥é¡¹é€šè¿‡**:
- [ ] Pythonç¯å¢ƒæ­£å¸¸
- [ ] æ‰€æœ‰ä¾èµ–åŒ…å·²å®‰è£…
- [ ] æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ
- [ ] Webç•Œé¢å¯ä»¥è®¿é—®
- [ ] å„åŠŸèƒ½é¡µé¢æ­£å¸¸æ˜¾ç¤º
- [ ] å¯ä»¥æ·»åŠ æ•°æ®å’Œåˆ›å»ºå®éªŒ

---

## ğŸ†˜ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ—¥å¿—**: æ£€æŸ¥ `outputs/logs/` ç›®å½•
2. **æ£€æŸ¥é”™è¯¯ä¿¡æ¯**: ä»”ç»†é˜…è¯»PowerShellè¾“å‡ºçš„é”™è¯¯ä¿¡æ¯
3. **éªŒè¯é…ç½®**: æ£€æŸ¥ `config.yaml` æ–‡ä»¶
4. **é‡æ–°éƒ¨ç½²**: æŒ‰ç…§æ­¥éª¤é‡æ–°æ‰§è¡Œ

---

## ğŸ‰ éƒ¨ç½²å®Œæˆï¼

æ­å–œï¼æ‚¨å·²ç»æˆåŠŸéƒ¨ç½²äº†å¤§ç–†æ— äººæœºè§†è§‰æ™ºèƒ½Agentç³»ç»Ÿã€‚

**ä¸‹ä¸€æ­¥**:
- é˜…è¯»å®Œæ•´çš„è®¾è®¡æ–¹æ¡ˆæ–‡æ¡£
- æ¢ç´¢å„ä¸ªåŠŸèƒ½æ¨¡å—
- å°è¯•æ·»åŠ è‡ªå·±çš„æ•°æ®
- è¿›è¡Œå®éªŒå’Œæµ‹è¯•

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼** ğŸšâœ¨

