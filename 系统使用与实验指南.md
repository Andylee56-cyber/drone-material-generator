# ğŸš€ å¤§ç–†æ— äººæœºè§†è§‰æ™ºèƒ½Agentç³»ç»Ÿ - ä½¿ç”¨ä¸å®éªŒæŒ‡å—

## ğŸ“‹ æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£ä¸“æ³¨äºï¼š
1. **é€šè¿‡PowerShellå¿«é€Ÿä¿®æ”¹UIç•Œé¢ä»£ç **
2. **åˆ©ç”¨å·²éƒ¨ç½²ç³»ç»Ÿè¿›è¡Œå®éªŒå¹¶ç”Ÿæˆå¯è§†åŒ–ç»“æœ**
3. **ç³»ç»Ÿæ™ºèƒ½å»ºè®®ä¸åˆ†æ**

---

## ğŸ¨ ç¬¬ä¸€éƒ¨åˆ†ï¼šé€šè¿‡PowerShellä¿®æ”¹UIç•Œé¢å’Œç³»ç»Ÿå¯åŠ¨è„šæœ¬

### æ–¹æ³•1ï¼šç›´æ¥ç¼–è¾‘æ–‡ä»¶ï¼ˆæ¨èï¼‰

#### ä¿®æ”¹Streamlitåº”ç”¨ç•Œé¢

```powershell
# 1. æ‰“å¼€streamlit_app_simple.pyæ–‡ä»¶è¿›è¡Œç¼–è¾‘
code app/web/streamlit_app_simple.py
# æˆ–è€…ä½¿ç”¨è®°äº‹æœ¬
notepad app\web\streamlit_app_simple.py

# 2. ä¿®æ”¹åä¿å­˜ï¼Œé‡æ–°å¯åŠ¨Streamlit
# åœæ­¢å½“å‰è¿è¡Œçš„Streamlitï¼ˆCtrl+Cï¼‰
# ç„¶åé‡æ–°å¯åŠ¨
streamlit run app\web\streamlit_app_simple.py
```

#### ä¿®æ”¹ç³»ç»Ÿå¯åŠ¨è„šæœ¬ï¼ˆstart_system.pyï¼‰

```powershell
# 1. æ‰“å¼€å¯åŠ¨è„šæœ¬è¿›è¡Œç¼–è¾‘
code scripts\start_system.py
# æˆ–è€…ä½¿ç”¨è®°äº‹æœ¬
notepad scripts\start_system.py

# 2. å¯ä»¥ä¿®æ”¹çš„å†…å®¹åŒ…æ‹¬ï¼š
#    - æ‰“å°è¾“å‡ºçš„æ–‡å­—ä¿¡æ¯ï¼ˆå¦‚ "[INFO]" å¼€å¤´çš„æç¤ºï¼‰
#    - å¯åŠ¨çš„ç«¯å£å·ï¼ˆé»˜è®¤8501å’Œ5000ï¼‰
#    - æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€çš„URL
#    - åº”ç”¨æ–‡ä»¶çš„ä¼˜å…ˆçº§é€‰æ‹©é€»è¾‘

# 3. ä¿®æ”¹åä¿å­˜ï¼Œä¸‹æ¬¡è¿è¡Œ python scripts\start_system.py æ—¶ä¼šç”Ÿæ•ˆ

# ç¤ºä¾‹ï¼šä¿®æ”¹å¯åŠ¨æ—¶çš„æç¤ºæ–‡å­—
# æ‰¾åˆ°ç±»ä¼¼è¿™æ ·çš„è¡Œï¼š
#   print("[INFO] ä½¿ç”¨å¢å¼ºç‰ˆåº”ç”¨ (streamlit_app_enhanced.py)")
# å¯ä»¥æ”¹ä¸ºï¼š
#   print("ğŸš€ æ­£åœ¨å¯åŠ¨å¢å¼ºç‰ˆåº”ç”¨...")
```

### æ–¹æ³•2ï¼šä½¿ç”¨PowerShellè„šæœ¬å¿«é€Ÿä¿®æ”¹

#### ä¿®æ”¹å¯åŠ¨è„šæœ¬çš„æ–‡å­—å†…å®¹

```powershell
# åˆ›å»ºä¿®æ”¹å¯åŠ¨è„šæœ¬æ–‡å­—çš„è„šæœ¬
@"
import re

# è¯»å–å¯åŠ¨è„šæœ¬
with open('scripts/start_system.py', 'r', encoding='utf-8') as f:
    content = f.read()

# ä¿®æ”¹æ‰“å°ä¿¡æ¯ï¼ˆä¾‹å¦‚æ”¹ä¸ºæ›´å‹å¥½çš„æç¤ºï¼‰
content = re.sub(
    r'\[INFO\] ä½¿ç”¨å¢å¼ºç‰ˆåº”ç”¨',
    r'[âœ…] æ­£åœ¨å¯åŠ¨å¢å¼ºç‰ˆåº”ç”¨',
    content
)

content = re.sub(
    r'\[INFO\] ä½¿ç”¨åŸºç¡€ç‰ˆåº”ç”¨',
    r'[âœ…] æ­£åœ¨å¯åŠ¨åŸºç¡€ç‰ˆåº”ç”¨',
    content
)

content = re.sub(
    r'\[WARN\]',
    r'[âš ï¸]',
    content
)

# ä¿®æ”¹æ›´å¤šæ–‡å­—å†…å®¹çš„ç¤ºä¾‹ï¼š
content = re.sub(
    r'æœªæ‰¾åˆ° Streamlitåº”ç”¨æ–‡ä»¶',
    r'âš ï¸ æœªæ‰¾åˆ°åº”ç”¨æ–‡ä»¶ï¼Œå¯åŠ¨ç¤ºä¾‹é¡µé¢',
    content
)

content = re.sub(
    r'æ•°æ®åº“åˆå§‹åŒ–è·³è¿‡æˆ–å¤±è´¥',
    r'æ•°æ®åº“åˆå§‹åŒ–è·³è¿‡æˆ–å¤±è´¥ï¼ˆå¯å¿½ç•¥ï¼‰',
    content
)

content = re.sub(
    r'MLflow UI å¯åŠ¨å¤±è´¥',
    r'MLflow UI å¯åŠ¨å¤±è´¥ï¼ˆå¯å¿½ç•¥ï¼‰',
    content
)

# å¯ä»¥ä¿®æ”¹ç«¯å£å·ï¼ˆå¦‚æœéœ€è¦æ›´æ”¹é»˜è®¤ç«¯å£ï¼‰
# content = re.sub(r'"--server.port", "8501"', r'"--server.port", "8502"', content)
# content = re.sub(r'"--port", "5000"', r'"--port", "5001"', content)
# content = re.sub(r'"http://localhost:8501"', r'"http://localhost:8502"', content)
# content = re.sub(r'"http://localhost:5000"', r'"http://localhost:5001"', content)

# ä¿å­˜æ–‡ä»¶
with open('scripts/start_system.py', 'w', encoding='utf-8') as f:
    f.write(content)

print('âœ… å¯åŠ¨è„šæœ¬æ–‡å­—å·²æ›´æ–°')
"@ | Out-File -FilePath temp_update_start_system.py -Encoding utf8

# æ‰§è¡Œä¿®æ”¹
python temp_update_start_system.py
Remove-Item temp_update_start_system.py
```

#### æ›´è¯¦ç»†çš„å¯åŠ¨è„šæœ¬ä¿®æ”¹ç¤ºä¾‹

```powershell
# åˆ›å»ºæ›´è¯¦ç»†çš„ä¿®æ”¹è„šæœ¬ï¼ˆåŒ…å«æ›´å¤šæ–‡å­—ä¿®æ”¹é€‰é¡¹ï¼‰
@"
import re

with open('scripts/start_system.py', 'r', encoding='utf-8') as f:
    content = f.read()

# ä¿®æ”¹æ‰€æœ‰æ‰“å°ä¿¡æ¯ä¸ºæ›´å‹å¥½çš„æ ¼å¼
modifications = [
    # ä¿®æ”¹INFOæ ‡ç­¾
    (r'print\(\["INFO"\]', r'print("ğŸš€'),
    (r'print\(f\["INFO"\]', r'print(f"ğŸš€'),
    
    # ä¿®æ”¹WARNæ ‡ç­¾
    (r'print\(f\["WARN"\]', r'print(f"âš ï¸'),
    (r'print\(\["WARN"\]', r'print("âš ï¸'),
    
    # ä¿®æ”¹å…·ä½“æ–‡å­—å†…å®¹
    (r'ä½¿ç”¨å¢å¼ºç‰ˆåº”ç”¨ \(streamlit_app_enhanced\.py\)', r'æ­£åœ¨å¯åŠ¨å¢å¼ºç‰ˆåº”ç”¨...'),
    (r'ä½¿ç”¨åŸºç¡€ç‰ˆåº”ç”¨ \(streamlit_app_simple\.py\)', r'æ­£åœ¨å¯åŠ¨åŸºç¡€ç‰ˆåº”ç”¨...'),
    (r'æ•°æ®åº“åˆå§‹åŒ–è·³è¿‡æˆ–å¤±è´¥', r'æ•°æ®åº“åˆå§‹åŒ–è·³è¿‡æˆ–å¤±è´¥ï¼ˆå¯å¿½ç•¥ï¼‰'),
    (r'MLflow UI å¯åŠ¨å¤±è´¥', r'MLflow UI å¯åŠ¨å¤±è´¥ï¼ˆå¯å¿½ç•¥ï¼‰'),
    (r'æœªæ‰¾åˆ° Streamlitåº”ç”¨æ–‡ä»¶ï¼Œå¯åŠ¨ Streamlit ç¤ºä¾‹é¡µ', r'æœªæ‰¾åˆ°åº”ç”¨æ–‡ä»¶ï¼Œå¯åŠ¨ç¤ºä¾‹é¡µé¢'),
]

for pattern, replacement in modifications:
    content = re.sub(pattern, replacement, content)

with open('scripts/start_system.py', 'w', encoding='utf-8') as f:
    f.write(content)

print('âœ… å¯åŠ¨è„šæœ¬å·²å…¨é¢æ›´æ–°')
"@ | Out-File -FilePath temp_update_start_system_detailed.py -Encoding utf8

# æ‰§è¡Œä¿®æ”¹
python temp_update_start_system_detailed.py
Remove-Item temp_update_start_system_detailed.py
```

#### ä¿®æ”¹Streamlitåº”ç”¨é¢œè‰²æ ·å¼

```powershell
# åˆ›å»ºå¿«é€Ÿä¿®æ”¹è„šæœ¬
@"
import re

# è¯»å–æ–‡ä»¶
with open('app/web/streamlit_app_simple.py', 'r', encoding='utf-8') as f:
    content = f.read()

# ä¿®æ”¹ç‰ˆæœ¬ä¿¡æ¯é¢œè‰²ï¼ˆä¾‹å¦‚æ”¹ä¸ºæ›´äº®çš„é’è‰²ï¼‰
content = re.sub(
    r'color: #00ffff',
    r'color: #00ffff !important; text-shadow: 0 0 15px #00ffff, 0 0 25px #00ffff',
    content
)

# ä¿®æ”¹å…¬å¸ä¿¡æ¯é¢œè‰²
content = re.sub(
    r'color: #00d9ff',
    r'color: #00d9ff !important; text-shadow: 0 0 12px #00d9ff',
    content
)

# ä¿å­˜æ–‡ä»¶
with open('app/web/streamlit_app_simple.py', 'w', encoding='utf-8') as f:
    f.write(content)

print('âœ… UIé¢œè‰²å·²æ›´æ–°')
"@ | Out-File -FilePath temp_update_ui.py -Encoding utf8

# æ‰§è¡Œä¿®æ”¹
python temp_update_ui.py
Remove-Item temp_update_ui.py
```

#### ä¿®æ”¹æ•°æ®æ¿å—æ ‡é¢˜

```powershell
# ä¿®æ”¹å››ä¸ªæ•°æ®æ¿å—çš„æ˜¾ç¤ºæ–‡æœ¬
@"
import re

with open('app/web/streamlit_app_simple.py', 'r', encoding='utf-8') as f:
    content = f.read()

# ä¿®æ”¹æ•°æ®ç‰ˆæœ¬æ ‡ç­¾
content = re.sub(
    r'ğŸ“Š æ•°æ®ç‰ˆæœ¬',
    r'ğŸ“Š æ•°æ®ç‰ˆæœ¬ (Data Versions)',
    content
)

# ä¿®æ”¹å®éªŒè®°å½•æ ‡ç­¾
content = re.sub(
    r'ğŸ”¬ å®éªŒè®°å½•',
    r'ğŸ”¬ å®éªŒè®°å½• (Experiments)',
    content
)

# ä¿®æ”¹æ¨¡å‹æ•°é‡æ ‡ç­¾
content = re.sub(
    r'ğŸ¤– æ¨¡å‹æ•°é‡',
    r'ğŸ¤– æ¨¡å‹æ•°é‡ (Models)',
    content
)

# ä¿®æ”¹åˆ†æä»»åŠ¡æ ‡ç­¾
content = re.sub(
    r'ğŸ“‹ åˆ†æä»»åŠ¡',
    r'ğŸ“‹ åˆ†æä»»åŠ¡ (Analysis Tasks)',
    content
)

with open('app/web/streamlit_app_simple.py', 'w', encoding='utf-8') as f:
    f.write(content)

print('âœ… æ•°æ®æ¿å—æ ‡ç­¾å·²æ›´æ–°')
"@ | Out-File -FilePath temp_update_labels.py -Encoding utf8

python temp_update_labels.py
Remove-Item temp_update_labels.py
```

### æ–¹æ³•3ï¼šæ‰¹é‡ä¿®æ”¹å¤šä¸ªæ–‡ä»¶å’Œå…ƒç´ 

#### åŒæ—¶ä¿®æ”¹å¯åŠ¨è„šæœ¬å’ŒUIç•Œé¢

```powershell
# ä¸€é”®æ›´æ–°å¯åŠ¨è„šæœ¬æ–‡å­—å’ŒUIé¢œè‰²çš„è„šæœ¬
@"
import re

# ========== 1. ä¿®æ”¹å¯åŠ¨è„šæœ¬æ–‡å­— ==========
print('ğŸ“ ä¿®æ”¹å¯åŠ¨è„šæœ¬...')
with open('scripts/start_system.py', 'r', encoding='utf-8') as f:
    start_content = f.read()

# ä¿®æ”¹å¯åŠ¨è„šæœ¬çš„æç¤ºä¿¡æ¯
start_updates = [
    (r'\[INFO\] ä½¿ç”¨å¢å¼ºç‰ˆåº”ç”¨', r'[âœ…] æ­£åœ¨å¯åŠ¨å¢å¼ºç‰ˆåº”ç”¨'),
    (r'\[INFO\] ä½¿ç”¨åŸºç¡€ç‰ˆåº”ç”¨', r'[âœ…] æ­£åœ¨å¯åŠ¨åŸºç¡€ç‰ˆåº”ç”¨'),
    (r'\[WARN\]', r'[âš ï¸]'),
]

for pattern, replacement in start_updates:
    start_content = re.sub(pattern, replacement, start_content)

with open('scripts/start_system.py', 'w', encoding='utf-8') as f:
    f.write(start_content)

# ========== 2. ä¿®æ”¹UIç•Œé¢é¢œè‰² ==========
print('ğŸ¨ ä¿®æ”¹UIç•Œé¢é¢œè‰²...')
with open('app/web/streamlit_app_simple.py', 'r', encoding='utf-8') as f:
    ui_content = f.read()

# é¢œè‰²é…ç½®å’Œæ›´æ–°
ui_updates = [
    (r'color: #00ffff', r'color: #00ffff !important; text-shadow: 0 0 15px #00ffff, 0 0 25px #00ffff'),
    (r'color: #00d9ff', r'color: #00d9ff !important; text-shadow: 0 0 12px #00d9ff'),
]

for pattern, replacement in ui_updates:
    ui_content = re.sub(pattern, replacement, ui_content)

with open('app/web/streamlit_app_simple.py', 'w', encoding='utf-8') as f:
    f.write(ui_content)

print('âœ… æ‰€æœ‰æ›´æ–°å®Œæˆï¼')
"@ | Out-File -FilePath update_all.py -Encoding utf8

# æ‰§è¡Œæ›´æ–°
python update_all.py
Remove-Item update_all.py
```

#### åªä¿®æ”¹UIé¢œè‰²ï¼ˆå•ç‹¬ä½¿ç”¨ï¼‰

```powershell
# ä¸€é”®æ›´æ–°æ‰€æœ‰UIé¢œè‰²çš„è„šæœ¬
@"
import re

# é¢œè‰²é…ç½®
COLORS = {
    'version': '#00ffff',  # ç‰ˆæœ¬ä¿¡æ¯é¢œè‰²ï¼ˆé’è‰²ï¼‰
    'company': '#00d9ff',  # å…¬å¸ä¿¡æ¯é¢œè‰²ï¼ˆäº®è“è‰²ï¼‰
    'metric_label': '#00d9ff',  # æ•°æ®æ¿å—æ ‡ç­¾é¢œè‰²
    'metric_value': '#00ffff',  # æ•°æ®å€¼é¢œè‰²
}

with open('app/web/streamlit_app_simple.py', 'r', encoding='utf-8') as f:
    content = f.read()

# é¢œè‰²é…ç½®å’Œæ›´æ–°
updates = [
    (r'color: #00ffff', r'color: #00ffff !important; text-shadow: 0 0 15px #00ffff, 0 0 25px #00ffff'),
    (r'color: #00d9ff', r'color: #00d9ff !important; text-shadow: 0 0 12px #00d9ff'),
]

for pattern, replacement in updates:
    content = re.sub(pattern, replacement, content)

# ä¿å­˜
with open('app/web/streamlit_app_simple.py', 'w', encoding='utf-8') as f:
    f.write(content)

print('âœ… UIæ‰¹é‡æ›´æ–°å®Œæˆ')
"@ | Out-File -FilePath update_ui_colors.py -Encoding utf8

# æ‰§è¡Œæ›´æ–°
python update_ui_colors.py
Remove-Item update_ui_colors.py
```

### åº”ç”¨ä¿®æ”¹å¹¶é‡å¯

```powershell
# ä¿®æ”¹å®Œæˆåï¼Œé‡å¯Streamlit
# 1. åœæ­¢å½“å‰æœåŠ¡ï¼ˆå¦‚æœæ­£åœ¨è¿è¡Œï¼‰
#    Ctrl+C åœ¨è¿è¡ŒStreamlitçš„ç»ˆç«¯ä¸­

# 2. é‡æ–°å¯åŠ¨
streamlit run app\web\streamlit_app_simple.py --server.port 8501
```

---

## ğŸ”¬ ç¬¬äºŒéƒ¨åˆ†ï¼šåˆ©ç”¨ç³»ç»Ÿè¿›è¡Œå®éªŒ

### ğŸš€ ç³»ç»Ÿå·²å¯åŠ¨åçš„å®Œæ•´å®éªŒæµç¨‹

**å‰ææ¡ä»¶**ï¼šæ‚¨å·²ç»é€šè¿‡ `python scripts\start_system.py` å¯åŠ¨äº†ç³»ç»Ÿï¼Œç°åœ¨å¯ä»¥çœ‹åˆ°ï¼š
- Streamlit UIï¼šhttp://localhost:8501
- MLflow UIï¼šhttp://localhost:5000

#### æ­¥éª¤1ï¼šåœ¨Webç•Œé¢è¿è¡Œç¬¬ä¸€ä¸ªå®éªŒï¼ˆæ¨èï¼‰

```powershell
# 1. æ‰“å¼€æµè§ˆå™¨è®¿é—® Streamlit ç•Œé¢
# http://localhost:8501

# 2. åœ¨ç•Œé¢ä¸­æ“ä½œï¼š
#    - ä¾§è¾¹æ é€‰æ‹©"è¿è¡Œæ–°å®éªŒ"é¡µé¢
#    - é…ç½®å®éªŒå‚æ•°ï¼š
#      * æ ·æœ¬æ•°é‡ï¼š1000ï¼ˆæ¨èï¼‰
#      * è®­ç»ƒè½®æ•°ï¼š10ï¼ˆæ¨èï¼‰
#      * å­¦ä¹ ç‡ï¼š0.001ï¼ˆæ¨èï¼‰
#      * æ‰¹æ¬¡å¤§å°ï¼š32ï¼ˆæ¨èï¼‰
#    - ç‚¹å‡»"ğŸš€ å¼€å§‹å®éªŒ"æŒ‰é’®
#    - ç­‰å¾…è®­ç»ƒå®Œæˆï¼ˆé€šå¸¸éœ€è¦2-5åˆ†é’Ÿï¼‰

# 3. æŸ¥çœ‹ç»“æœï¼š
#    - å®éªŒå®Œæˆåä¼šæ˜¾ç¤ºæµ‹è¯•å‡†ç¡®ç‡
#    - è‡ªåŠ¨æ˜¾ç¤ºè®­ç»ƒå†å²å›¾è¡¨ï¼ˆæŸå¤±æ›²çº¿ã€å‡†ç¡®ç‡æ›²çº¿ï¼‰
#    - å®éªŒæ•°æ®è‡ªåŠ¨ä¿å­˜åˆ°MLflow
```

#### æ­¥éª¤2ï¼šæŸ¥çœ‹å®éªŒæ•°æ®å’Œå¯è§†åŒ–ç»“æœ

**åœ¨Streamlitç•Œé¢æŸ¥çœ‹ï¼š**

```powershell
# 1. åœ¨Streamlitç•Œé¢ï¼ˆhttp://localhost:8501ï¼‰ï¼š
#    - é€‰æ‹©"æŸ¥çœ‹å†å²å®éªŒ"é¡µé¢
#    - æŸ¥çœ‹å®éªŒåˆ—è¡¨å’Œæ€§èƒ½æŒ‡æ ‡
#    - æŸ¥çœ‹å¯è§†åŒ–å›¾è¡¨ï¼ˆè®­ç»ƒæ›²çº¿ã€æ··æ·†çŸ©é˜µç­‰ï¼‰
#    - é€‰æ‹©"æ¨¡å‹å¯¹æ¯”åˆ†æ"æŸ¥çœ‹ä¸åŒå®éªŒçš„å¯¹æ¯”
```

**åœ¨MLflow UIæŸ¥çœ‹è¯¦ç»†æ•°æ®ï¼š**

```powershell
# 1. æ‰“å¼€MLflow UI
# http://localhost:5000

# 2. æŸ¥çœ‹å†…å®¹ï¼š
#    - å·¦ä¾§ï¼šå®éªŒåˆ—è¡¨ï¼ˆé»˜è®¤å®éªŒåç§°ï¼‰
#    - ç‚¹å‡»å®éªŒåç§°æŸ¥çœ‹æ‰€æœ‰è¿è¡Œè®°å½•
#    - æ¯ä¸ªè¿è¡ŒåŒ…å«ï¼š
#      * Parametersï¼ˆå‚æ•°ï¼‰ï¼šå­¦ä¹ ç‡ã€æ‰¹æ¬¡å¤§å°ã€è®­ç»ƒè½®æ•°ç­‰
#      * Metricsï¼ˆæŒ‡æ ‡ï¼‰ï¼šè®­ç»ƒå‡†ç¡®ç‡ã€éªŒè¯å‡†ç¡®ç‡ã€æŸå¤±å€¼ç­‰
#      * Artifactsï¼ˆæ–‡ä»¶ï¼‰ï¼šæ¨¡å‹æ–‡ä»¶ã€å›¾è¡¨ç­‰
#    - å¯ä»¥å¯¹æ¯”å¤šä¸ªå®éªŒçš„å‚æ•°å’ŒæŒ‡æ ‡
```

#### æ­¥éª¤3ï¼šè¿è¡Œæ›´å¤šå®éªŒç”Ÿæˆå¯¹æ¯”æ•°æ®

**æ–¹å¼Aï¼šé€šè¿‡Webç•Œé¢è¿è¡Œå¤šä¸ªå®éªŒ**

```powershell
# åœ¨Streamlitç•Œé¢ï¼ˆhttp://localhost:8501ï¼‰ï¼š
# 1. è¿è¡Œå®éªŒ1ï¼šå­¦ä¹ ç‡=0.001, è½®æ•°=10
# 2. è¿è¡Œå®éªŒ2ï¼šå­¦ä¹ ç‡=0.01, è½®æ•°=10
# 3. è¿è¡Œå®éªŒ3ï¼šå­¦ä¹ ç‡=0.0001, è½®æ•°=10
# 4. è¿è¡Œå®éªŒ4ï¼šå­¦ä¹ ç‡=0.001, è½®æ•°=20

# æ¯æ¬¡å®éªŒå®Œæˆåï¼Œæ•°æ®ä¼šè‡ªåŠ¨ä¿å­˜åˆ°MLflow
# å¯ä»¥åœ¨"æ¨¡å‹å¯¹æ¯”åˆ†æ"é¡µé¢æŸ¥çœ‹æ‰€æœ‰å®éªŒçš„å¯¹æ¯”
```

**æ–¹å¼Bï¼šé€šè¿‡å‘½ä»¤è¡Œæ‰¹é‡è¿è¡Œå®éªŒ**

```powershell
# æ‰“å¼€æ–°çš„PowerShellç»ˆç«¯ï¼ˆä¿æŒstart_system.pyè¿è¡Œï¼‰
# åˆ›å»ºæ‰¹é‡å®éªŒè„šæœ¬
@"
import mlflow
from main import DroneVisionExperiment
import time

# å®éªŒé…ç½®åˆ—è¡¨
experiments_config = [
    {"name": "å®éªŒ1_åŸºç¡€é…ç½®", "epochs": 10, "lr": 0.001, "samples": 1000},
    {"name": "å®éªŒ2_é«˜å­¦ä¹ ç‡", "epochs": 10, "lr": 0.01, "samples": 1000},
    {"name": "å®éªŒ3_ä½å­¦ä¹ ç‡", "epochs": 10, "lr": 0.0001, "samples": 1000},
    {"name": "å®éªŒ4_æ›´å¤šè½®æ¬¡", "epochs": 20, "lr": 0.001, "samples": 1000},
]

print("ğŸš€ å¼€å§‹æ‰¹é‡å®éªŒ...\n")

for i, config in enumerate(experiments_config, 1):
    print(f"\n{'='*60}")
    print(f"å®éªŒ {i}/{len(experiments_config)}: {config['name']}")
    print(f"{'='*60}")
    
    # åˆ›å»ºå®éªŒ
    experiment = DroneVisionExperiment(config['name'])
    
    # ç”Ÿæˆæ•°æ®
    print(f"ğŸ“Š ç”Ÿæˆ {config['samples']} ä¸ªæ ·æœ¬...")
    images, labels, class_names = experiment.generate_synthetic_data(config['samples'])
    
    # å‡†å¤‡æ•°æ®
    print("ğŸ“¦ å‡†å¤‡æ•°æ®é›†...")
    train_dataset, val_dataset, test_dataset = experiment.prepare_data(images, labels)
    
    # è®­ç»ƒæ¨¡å‹
    print(f"ğŸ¯ å¼€å§‹è®­ç»ƒï¼ˆ{config['epochs']}è½®ï¼Œå­¦ä¹ ç‡={config['lr']}ï¼‰...")
    history, test_accuracy = experiment.train_model(
        num_epochs=config['epochs'],
        learning_rate=config['lr']
    )
    
    print(f"âœ… {config['name']} å®Œæˆï¼")
    print(f"   æµ‹è¯•å‡†ç¡®ç‡: {test_accuracy:.2f}%")
    print(f"   è®­ç»ƒå‡†ç¡®ç‡: {history['train_accuracies'][-1]:.2f}%")
    print(f"   éªŒè¯å‡†ç¡®ç‡: {history['val_accuracies'][-1]:.2f}%")
    
    # çŸ­æš‚ä¼‘æ¯ï¼Œé¿å…èµ„æºå†²çª
    if i < len(experiments_config):
        time.sleep(2)

print(f"\n{'='*60}")
print("ğŸ‰ æ‰€æœ‰å®éªŒå®Œæˆï¼")
print(f"{'='*60}")
print("\nğŸ“Š æŸ¥çœ‹ç»“æœ:")
print("   - Streamlitç•Œé¢: http://localhost:8501 â†’ æŸ¥çœ‹å†å²å®éªŒ")
print("   - MLflow UI: http://localhost:5000 â†’ æŸ¥çœ‹è¯¦ç»†æ•°æ®")
"@ | Out-File -FilePath run_batch_experiments.py -Encoding utf8

# è¿è¡Œæ‰¹é‡å®éªŒï¼ˆåœ¨æ–°ç»ˆç«¯ä¸­ï¼‰
python run_batch_experiments.py
```

#### æ­¥éª¤4ï¼šæŸ¥çœ‹å’Œå¯¼å‡ºå¯è§†åŒ–ç»“æœ

**åœ¨Streamlitç•Œé¢æŸ¥çœ‹å¯è§†åŒ–ï¼š**

```powershell
# è®¿é—® http://localhost:8501
# 1. é€‰æ‹©"æŸ¥çœ‹å†å²å®éªŒ"é¡µé¢
#    - æŸ¥çœ‹å®éªŒåˆ—è¡¨è¡¨æ ¼
#    - æŸ¥çœ‹è®­ç»ƒæ›²çº¿å›¾è¡¨
#    - æŸ¥çœ‹æ··æ·†çŸ©é˜µ
#    - æŸ¥çœ‹ç±»åˆ«åˆ†å¸ƒå›¾

# 2. é€‰æ‹©"æ¨¡å‹å¯¹æ¯”åˆ†æ"é¡µé¢
#    - æŸ¥çœ‹ä¸åŒå®éªŒçš„æ€§èƒ½å¯¹æ¯”æŸ±çŠ¶å›¾
#    - æŸ¥çœ‹ç³»ç»Ÿæ¨èçš„æœ€ä½³æ¨¡å‹
#    - æŸ¥çœ‹æ€§èƒ½åˆ†æç»Ÿè®¡
```

**åœ¨MLflow UIæŸ¥çœ‹è¯¦ç»†å¯è§†åŒ–ï¼š**

```powershell
# è®¿é—® http://localhost:5000
# 1. ç‚¹å‡»å®éªŒåç§°è¿›å…¥å®éªŒè¯¦æƒ…
# 2. ç‚¹å‡»è¿è¡Œè®°å½•æŸ¥çœ‹ï¼š
#    - Metricsæ ‡ç­¾é¡µï¼šæŸ¥çœ‹æŒ‡æ ‡è¶‹åŠ¿å›¾ï¼ˆè®­ç»ƒ/éªŒè¯å‡†ç¡®ç‡ã€æŸå¤±æ›²çº¿ï¼‰
#    - Parametersæ ‡ç­¾é¡µï¼šæŸ¥çœ‹æ‰€æœ‰å‚æ•°é…ç½®
#    - Artifactsæ ‡ç­¾é¡µï¼šæŸ¥çœ‹ä¿å­˜çš„æ¨¡å‹æ–‡ä»¶å’Œå›¾è¡¨
# 3. é€‰æ‹©å¤šä¸ªè¿è¡Œè¿›è¡Œå¯¹æ¯”ï¼š
#    - å‹¾é€‰å¤šä¸ªè¿è¡Œè®°å½•
#    - ç‚¹å‡»"Compare"æŒ‰é’®
#    - æŸ¥çœ‹å‚æ•°å¯¹æ¯”è¡¨å’ŒæŒ‡æ ‡å¯¹æ¯”å›¾
```

**å¯¼å‡ºå®éªŒæ•°æ®å’Œå¯è§†åŒ–ï¼š**

```powershell
# åˆ›å»ºå¯¼å‡ºè„šæœ¬
@"
import mlflow
from mlflow.tracking import MlflowClient
import pandas as pd
import json
from pathlib import Path

client = MlflowClient()

print("ğŸ“Š æ­£åœ¨å¯¼å‡ºå®éªŒæ•°æ®...\n")

# è·å–æ‰€æœ‰å®éªŒ
experiments = client.search_experiments()
all_runs = []

for exp in experiments:
    print(f"ğŸ“ å¤„ç†å®éªŒ: {exp.name}")
    runs = client.search_runs([exp.experiment_id])
    
    for run in runs:
        # æå–æŒ‡æ ‡
        metrics = run.data.metrics
        params = run.data.params
        
        run_data = {
            'experiment_name': exp.name,
            'run_id': run.info.run_id[:8],
            'run_name': run.info.run_name,
            'status': run.info.status,
            'start_time': pd.to_datetime(run.info.start_time, unit='ms').strftime('%Y-%m-%d %H:%M:%S'),
            'end_time': pd.to_datetime(run.info.end_time, unit='ms').strftime('%Y-%m-%d %H:%M:%S') if run.info.end_time else None,
        }
        
        # æ·»åŠ å‚æ•°
        for key, value in params.items():
            run_data[f'param_{key}'] = value
        
        # æ·»åŠ æŒ‡æ ‡
        for key, value in metrics.items():
            run_data[f'metric_{key}'] = value
        
        all_runs.append(run_data)

if all_runs:
    # å¯¼å‡ºä¸ºCSV
    df = pd.DataFrame(all_runs)
    csv_path = 'experiments_export.csv'
    df.to_csv(csv_path, index=False, encoding='utf-8-sig')
    print(f"âœ… CSVå·²å¯¼å‡º: {csv_path}")
    print(f"   åŒ…å« {len(df)} æ¡å®éªŒè®°å½•")
    
    # å¯¼å‡ºä¸ºJSON
    json_path = 'experiments_export.json'
    with open(json_path, 'w', encoding='utf-8') as f:
        json.dump(all_runs, f, ensure_ascii=False, indent=2)
    print(f"âœ… JSONå·²å¯¼å‡º: {json_path}")
    
    # æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯
    print(f"\nğŸ“ˆ å®éªŒç»Ÿè®¡:")
    print(f"   æ€»å®éªŒæ•°: {len(experiments)}")
    print(f"   æ€»è¿è¡Œæ•°: {len(all_runs)}")
    
    if 'metric_final_val_accuracy' in df.columns:
        print(f"   å¹³å‡å‡†ç¡®ç‡: {df['metric_final_val_accuracy'].mean():.2f}%")
        print(f"   æœ€é«˜å‡†ç¡®ç‡: {df['metric_final_val_accuracy'].max():.2f}%")
        print(f"   æœ€ä½å‡†ç¡®ç‡: {df['metric_final_val_accuracy'].min():.2f}%")
else:
    print("âš ï¸ æ²¡æœ‰æ‰¾åˆ°å®éªŒæ•°æ®")
"@ | Out-File -FilePath export_experiments.py -Encoding utf8

# æ‰§è¡Œå¯¼å‡º
python export_experiments.py
```

#### æ­¥éª¤5ï¼šç”Ÿæˆå®éªŒåˆ†ææŠ¥å‘Š

```powershell
# åˆ›å»ºåˆ†ææŠ¥å‘Šè„šæœ¬
@"
import mlflow
from mlflow.tracking import MlflowClient
import pandas as pd
import numpy as np

client = MlflowClient()

print("\n" + "="*70)
print("ğŸ“Š å®éªŒåˆ†ææŠ¥å‘Š")
print("="*70 + "\n")

# è·å–æ‰€æœ‰å®éªŒ
experiments = client.search_experiments()
all_data = []

for exp in experiments:
    runs = client.search_runs([exp.experiment_id])
    for run in runs:
        metrics = run.data.metrics
        params = run.data.params
        
        if 'final_val_accuracy' in metrics or 'final_train_accuracy' in metrics:
            all_data.append({
                'å®éªŒåç§°': run.info.run_name or run.info.run_id[:8],
                'å­¦ä¹ ç‡': float(params.get('learning_rate', 0)) if 'learning_rate' in params else 0,
                'æ‰¹æ¬¡å¤§å°': int(params.get('batch_size', 32)) if 'batch_size' in params else 32,
                'è®­ç»ƒè½®æ•°': int(params.get('num_epochs', 10)) if 'num_epochs' in params else 10,
                'éªŒè¯å‡†ç¡®ç‡': metrics.get('final_val_accuracy', 0),
                'è®­ç»ƒå‡†ç¡®ç‡': metrics.get('final_train_accuracy', 0),
                'æœ€ç»ˆæŸå¤±': metrics.get('final_val_loss', 0),
            })

if all_data:
    df = pd.DataFrame(all_data)
    
    # åˆ†ææœ€ä½³é…ç½®
    if 'éªŒè¯å‡†ç¡®ç‡' in df.columns and df['éªŒè¯å‡†ç¡®ç‡'].sum() > 0:
        best_idx = df['éªŒè¯å‡†ç¡®ç‡'].idxmax()
        best_run = df.loc[best_idx]
        
        print("âœ… æœ€ä½³å®éªŒé…ç½®:")
        print(f"   å®éªŒåç§°: {best_run['å®éªŒåç§°']}")
        print(f"   å­¦ä¹ ç‡: {best_run['å­¦ä¹ ç‡']}")
        print(f"   æ‰¹æ¬¡å¤§å°: {best_run['æ‰¹æ¬¡å¤§å°']}")
        print(f"   è®­ç»ƒè½®æ•°: {best_run['è®­ç»ƒè½®æ•°']}")
        print(f"   éªŒè¯å‡†ç¡®ç‡: {best_run['éªŒè¯å‡†ç¡®ç‡']:.2f}%")
        print(f"   è®­ç»ƒå‡†ç¡®ç‡: {best_run['è®­ç»ƒå‡†ç¡®ç‡']:.2f}%")
    
    print(f"\nğŸ“ˆ ç»Ÿè®¡ä¿¡æ¯:")
    if 'éªŒè¯å‡†ç¡®ç‡' in df.columns:
        print(f"   å¹³å‡å‡†ç¡®ç‡: {df['éªŒè¯å‡†ç¡®ç‡'].mean():.2f}%")
        print(f"   æœ€é«˜å‡†ç¡®ç‡: {df['éªŒè¯å‡†ç¡®ç‡'].max():.2f}%")
        print(f"   æœ€ä½å‡†ç¡®ç‡: {df['éªŒè¯å‡†ç¡®ç‡'].min():.2f}%")
        print(f"   å‡†ç¡®ç‡æ ‡å‡†å·®: {df['éªŒè¯å‡†ç¡®ç‡'].std():.2f}%")
    
    print(f"\nğŸ’¡ æ™ºèƒ½å»ºè®®:")
    if 'éªŒè¯å‡†ç¡®ç‡' in df.columns and df['éªŒè¯å‡†ç¡®ç‡'].max() < 80:
        print("   - å‡†ç¡®ç‡è¾ƒä½ï¼Œå»ºè®®:")
        print("     * å¢åŠ è®­ç»ƒè½®æ•°ï¼ˆå°è¯•20-30è½®ï¼‰")
        print("     * å°è¯•ä¸åŒçš„å­¦ä¹ ç‡ï¼ˆ0.0005-0.005ï¼‰")
        print("     * å¢åŠ æ ·æœ¬æ•°é‡")
    
    if len(df) > 1 and 'éªŒè¯å‡†ç¡®ç‡' in df.columns:
        if df['éªŒè¯å‡†ç¡®ç‡'].std() > 5:
            print("   - å®éªŒç»“æœæ³¢åŠ¨è¾ƒå¤§ï¼Œå»ºè®®:")
            print("     * è¿è¡Œæ›´å¤šå®éªŒå–å¹³å‡å€¼")
            print("     * æ£€æŸ¥æ•°æ®è´¨é‡")
    
    print(f"\nğŸ“‹ æ‰€æœ‰å®éªŒåˆ—è¡¨:")
    print(df.to_string(index=False))
    
    print("\n" + "="*70)
else:
    print("âš ï¸ æ²¡æœ‰æ‰¾åˆ°å®éªŒæ•°æ®ï¼Œè¯·å…ˆè¿è¡Œä¸€äº›å®éªŒ")

print("\nğŸ’» æŸ¥çœ‹è¯¦ç»†æ•°æ®:")
print("   - Streamlitç•Œé¢: http://localhost:8501")
print("   - MLflow UI: http://localhost:5000")
"@ | Out-File -FilePath generate_analysis_report.py -Encoding utf8

# ç”Ÿæˆåˆ†ææŠ¥å‘Š
python generate_analysis_report.py
```

---

### ğŸ“‹ å®Œæ•´å®éªŒæµç¨‹å¿«é€Ÿå‚è€ƒ

**å‡è®¾æ‚¨å·²ç»é€šè¿‡ `python scripts\start_system.py` å¯åŠ¨äº†ç³»ç»Ÿ**

#### å¿«é€Ÿå®éªŒæµç¨‹ï¼ˆ5æ­¥å®Œæˆï¼‰

```powershell
# ============================================
# å®Œæ•´å®éªŒæµç¨‹ï¼ˆç³»ç»Ÿå·²å¯åŠ¨ï¼‰
# ============================================

# æ­¥éª¤1: åœ¨Webç•Œé¢è¿è¡Œç¬¬ä¸€ä¸ªå®éªŒ
# è®¿é—® http://localhost:8501
# â†’ é€‰æ‹©"è¿è¡Œæ–°å®éªŒ"
# â†’ é…ç½®å‚æ•°ï¼ˆæ ·æœ¬1000ï¼Œè½®æ•°10ï¼Œå­¦ä¹ ç‡0.001ï¼‰
# â†’ ç‚¹å‡»"å¼€å§‹å®éªŒ"
# â†’ ç­‰å¾…å®Œæˆï¼ˆ2-5åˆ†é’Ÿï¼‰

# æ­¥éª¤2: æŸ¥çœ‹å®éªŒç»“æœ
# Streamlitç•Œé¢: http://localhost:8501 â†’ "æŸ¥çœ‹å†å²å®éªŒ"
# MLflow UI: http://localhost:5000 â†’ æŸ¥çœ‹è¯¦ç»†æ•°æ®

# æ­¥éª¤3: è¿è¡Œæ›´å¤šå®éªŒï¼ˆç”Ÿæˆå¯¹æ¯”æ•°æ®ï¼‰
# æ–¹å¼A: åœ¨Webç•Œé¢è¿è¡Œå¤šä¸ªä¸åŒå‚æ•°çš„å®éªŒ
# æ–¹å¼B: è¿è¡Œæ‰¹é‡å®éªŒè„šæœ¬
python run_batch_experiments.py

# æ­¥éª¤4: æŸ¥çœ‹å¯è§†åŒ–ç»“æœ
# Streamlit: æŸ¥çœ‹è®­ç»ƒæ›²çº¿ã€æ··æ·†çŸ©é˜µã€å¯¹æ¯”å›¾è¡¨
# MLflow UI: æŸ¥çœ‹æŒ‡æ ‡è¶‹åŠ¿å›¾ã€å‚æ•°å¯¹æ¯”

# æ­¥éª¤5: å¯¼å‡ºæ•°æ®å’Œç”ŸæˆæŠ¥å‘Š
python export_experiments.py      # å¯¼å‡ºæ•°æ®
python generate_analysis_report.py  # ç”Ÿæˆåˆ†ææŠ¥å‘Š
```

#### é¢„æœŸç»“æœ

è¿è¡Œå®éªŒåï¼Œæ‚¨åº”è¯¥èƒ½çœ‹åˆ°ï¼š

1. **æ•°æ®**ï¼š
   - MLflowä¸­è®°å½•çš„æ‰€æœ‰å®éªŒå‚æ•°å’ŒæŒ‡æ ‡
   - å¯¼å‡ºçš„CSVå’ŒJSONæ–‡ä»¶

2. **å¯è§†åŒ–ç»“æœ**ï¼š
   - è®­ç»ƒæŸå¤±æ›²çº¿
   - è®­ç»ƒ/éªŒè¯å‡†ç¡®ç‡æ›²çº¿
   - æ··æ·†çŸ©é˜µ
   - æ¨¡å‹æ€§èƒ½å¯¹æ¯”å›¾è¡¨
   - MLflowä¸­çš„æŒ‡æ ‡è¶‹åŠ¿å›¾

3. **åˆ†ææŠ¥å‘Š**ï¼š
   - æœ€ä½³å®éªŒé…ç½®
   - ç»Ÿè®¡ä¿¡æ¯ï¼ˆå¹³å‡ã€æœ€é«˜ã€æœ€ä½å‡†ç¡®ç‡ï¼‰
   - æ™ºèƒ½å»ºè®®

---

### å¿«é€Ÿå¯åŠ¨å®éªŒï¼ˆå…¶ä»–æ–¹å¼ï¼‰

#### æ–¹å¼1ï¼šé€šè¿‡Webç•Œé¢è¿è¡Œå®éªŒï¼ˆç³»ç»Ÿå·²å¯åŠ¨æ—¶ï¼‰

```powershell
# æ³¨æ„ï¼šå¦‚æœå·²ç»é€šè¿‡ python scripts\start_system.py å¯åŠ¨äº†ç³»ç»Ÿ
# å¯ä»¥ç›´æ¥è®¿é—® http://localhost:8501ï¼Œæ— éœ€å†æ¬¡å¯åŠ¨

# 1. æ‰“å¼€æµè§ˆå™¨è®¿é—®
# http://localhost:8501

# 2. æ“ä½œæ­¥éª¤ï¼š
#    - åœ¨ä¾§è¾¹æ é€‰æ‹©"è¿è¡Œæ–°å®éªŒ"
#    - é…ç½®å‚æ•°ï¼ˆæ ·æœ¬æ•°é‡ã€è®­ç»ƒè½®æ•°ã€å­¦ä¹ ç‡ç­‰ï¼‰
#    - ç‚¹å‡»"ğŸš€ å¼€å§‹å®éªŒ"
#    - ç­‰å¾…è®­ç»ƒå®Œæˆï¼ŒæŸ¥çœ‹ç»“æœ

# 3. æŸ¥çœ‹ç»“æœï¼š
#    - åœ¨"æŸ¥çœ‹å†å²å®éªŒ"é¡µé¢æŸ¥çœ‹æ‰€æœ‰å®éªŒ
#    - åœ¨"æ¨¡å‹å¯¹æ¯”åˆ†æ"é¡µé¢å¯¹æ¯”ä¸åŒå®éªŒ
```

#### æ–¹å¼2ï¼šé€šè¿‡å‘½ä»¤è¡Œè¿è¡Œå®éªŒï¼ˆç³»ç»Ÿå·²å¯åŠ¨æ—¶ï¼‰

```powershell
# æ³¨æ„ï¼šä¿æŒ start_system.py è¿è¡Œï¼Œåœ¨æ–°ç»ˆç«¯ä¸­æ‰§è¡Œ

# ç›´æ¥è¿è¡Œä¸»ç¨‹åº
python main.py

# å®éªŒä¼šè‡ªåŠ¨ï¼š
# 1. ç”Ÿæˆåˆæˆæ•°æ®ï¼ˆ1000ä¸ªæ ·æœ¬ï¼‰
# 2. è®­ç»ƒæ¨¡å‹ï¼ˆ10è½®ï¼Œå­¦ä¹ ç‡0.001ï¼‰
# 3. è®°å½•åˆ°MLflowï¼ˆè‡ªåŠ¨ä¿å­˜ï¼‰
# 4. ç”Ÿæˆå¯è§†åŒ–ç»“æœï¼ˆä¿å­˜ä¸ºå›¾ç‰‡ï¼‰

# å®éªŒå®Œæˆåï¼š
# - åœ¨ Streamlit ç•Œé¢æŸ¥çœ‹ï¼šhttp://localhost:8501
# - åœ¨ MLflow UI æŸ¥çœ‹ï¼šhttp://localhost:5000
```

#### æ–¹å¼3ï¼šè‡ªå®šä¹‰å®éªŒå‚æ•°

```powershell
# åˆ›å»ºè‡ªå®šä¹‰å®éªŒè„šæœ¬
@"
from main import DroneVisionExperiment

# åˆ›å»ºå®éªŒ
experiment = DroneVisionExperiment("è‡ªå®šä¹‰å®éªŒ_v1")

# ç”Ÿæˆæ•°æ®ï¼ˆ1000ä¸ªæ ·æœ¬ï¼‰
images, labels, class_names = experiment.generate_synthetic_data(1000)

# å‡†å¤‡æ•°æ®
train_dataset, val_dataset, test_dataset = experiment.prepare_data(images, labels)

# è®­ç»ƒæ¨¡å‹ï¼ˆ10ä¸ªepochï¼Œå­¦ä¹ ç‡0.001ï¼‰
history, test_accuracy = experiment.train_model(
    num_epochs=10,
    learning_rate=0.001
)

print(f'âœ… å®éªŒå®Œæˆï¼æµ‹è¯•å‡†ç¡®ç‡: {test_accuracy:.2f}%')
"@ | Out-File -FilePath run_custom_experiment.py -Encoding utf8

# è¿è¡Œè‡ªå®šä¹‰å®éªŒ
python run_custom_experiment.py
```

### æ‰¹é‡è¿è¡Œå¤šä¸ªå®éªŒ

```powershell
# åˆ›å»ºæ‰¹é‡å®éªŒè„šæœ¬
@"
import mlflow
from main import DroneVisionExperiment

# å®éªŒé…ç½®åˆ—è¡¨
experiments_config = [
    {"name": "å®éªŒ1_CNN_åŸºç¡€", "epochs": 10, "lr": 0.001, "samples": 1000},
    {"name": "å®éªŒ2_CNN_é«˜å­¦ä¹ ç‡", "epochs": 10, "lr": 0.01, "samples": 1000},
    {"name": "å®éªŒ3_CNN_ä½å­¦ä¹ ç‡", "epochs": 10, "lr": 0.0001, "samples": 1000},
    {"name": "å®éªŒ4_CNN_æ›´å¤šè½®æ¬¡", "epochs": 20, "lr": 0.001, "samples": 1000},
]

for config in experiments_config:
    print(f"\nğŸš€ å¼€å§‹å®éªŒ: {config['name']}")
    
    # åˆ›å»ºå®éªŒ
    experiment = DroneVisionExperiment(config['name'])
    
    # ç”Ÿæˆæ•°æ®
    images, labels, class_names = experiment.generate_synthetic_data(config['samples'])
    
    # å‡†å¤‡æ•°æ®
    train_dataset, val_dataset, test_dataset = experiment.prepare_data(images, labels)
    
    # è®­ç»ƒæ¨¡å‹
    history, test_accuracy = experiment.train_model(
        num_epochs=config['epochs'],
        learning_rate=config['lr']
    )
    
    print(f"âœ… {config['name']} å®Œæˆï¼å‡†ç¡®ç‡: {test_accuracy:.2f}%")

print("\nğŸ‰ æ‰€æœ‰å®éªŒå®Œæˆï¼")
print("ğŸ“Š æŸ¥çœ‹ç»“æœ: http://localhost:5000 (MLflow UI)")
"@ | Out-File -FilePath run_batch_experiments.py -Encoding utf8

# è¿è¡Œæ‰¹é‡å®éªŒ
python run_batch_experiments.py
```

---

## ğŸ“Š ç¬¬ä¸‰éƒ¨åˆ†ï¼šæŸ¥çœ‹å¯è§†åŒ–ç»“æœ

### åœ¨Streamlitç•Œé¢æŸ¥çœ‹

```powershell
# 1. ç¡®ä¿Streamlitè¿è¡Œä¸­
streamlit run app\web\streamlit_app_simple.py

# 2. è®¿é—®ç•Œé¢
# http://localhost:8501

# 3. æŸ¥çœ‹ä¸åŒé¡µé¢ï¼š
#    - "ç³»ç»Ÿæ¦‚è§ˆ": æŸ¥çœ‹å››ä¸ªæ•°æ®æ¿å—ç»Ÿè®¡
#    - "æŸ¥çœ‹å†å²å®éªŒ": æŸ¥çœ‹å®éªŒè®°å½•å’Œå¯è§†åŒ–å›¾è¡¨
#    - "æ¨¡å‹å¯¹æ¯”åˆ†æ": å¯¹æ¯”ä¸åŒæ¨¡å‹æ€§èƒ½
```

### åœ¨MLflow UIæŸ¥çœ‹

```powershell
# 1. å¯åŠ¨MLflow UI
mlflow ui --host 0.0.0.0 --port 5000

# 2. è®¿é—®ç•Œé¢
# http://localhost:5000

# 3. æŸ¥çœ‹å†…å®¹ï¼š
#    - å®éªŒåˆ—è¡¨
#    - å‚æ•°å¯¹æ¯”
#    - æŒ‡æ ‡è¶‹åŠ¿å›¾
#    - æ¨¡å‹æ–‡ä»¶
#    - å®éªŒå¯¹æ¯”
```

### å¯¼å‡ºå¯è§†åŒ–ç»“æœ

```powershell
# åˆ›å»ºå¯¼å‡ºè„šæœ¬
@"
import mlflow
from mlflow.tracking import MlflowClient
import pandas as pd
import json

client = MlflowClient()

# è·å–æ‰€æœ‰å®éªŒ
experiments = client.search_experiments()
all_runs = []

for exp in experiments:
    runs = client.search_runs([exp.experiment_id])
    for run in runs:
        all_runs.append({
            'experiment_name': exp.name,
            'run_id': run.info.run_id,
            'status': run.info.status,
            'start_time': run.info.start_time,
            'metrics': run.data.metrics,
            'params': run.data.params
        })

# å¯¼å‡ºä¸ºCSV
df = pd.DataFrame(all_runs)
df.to_csv('experiments_export.csv', index=False, encoding='utf-8-sig')

# å¯¼å‡ºä¸ºJSON
with open('experiments_export.json', 'w', encoding='utf-8') as f:
    json.dump(all_runs, f, ensure_ascii=False, indent=2)

print('âœ… å®éªŒç»“æœå·²å¯¼å‡º:')
print('   - experiments_export.csv')
print('   - experiments_export.json')
"@ | Out-File -FilePath export_results.py -Encoding utf8

# æ‰§è¡Œå¯¼å‡º
python export_results.py
```

---

## ğŸ¤– ç¬¬å››éƒ¨åˆ†ï¼šç³»ç»Ÿæ™ºèƒ½å»ºè®®ä¸åˆ†æ

### æŸ¥çœ‹ç³»ç»Ÿå»ºè®®

ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†æå®éªŒæ•°æ®å¹¶æä¾›å»ºè®®ï¼š

#### 1. åœ¨Webç•Œé¢æŸ¥çœ‹å»ºè®®

```powershell
# è®¿é—®Streamlitç•Œé¢
# http://localhost:8501

# åœ¨"æ¨¡å‹å¯¹æ¯”åˆ†æ"é¡µé¢ï¼š
# - ç³»ç»Ÿä¼šæ¨èæœ€ä½³æ¨¡å‹
# - æ˜¾ç¤ºæ€§èƒ½åˆ†æ
# - æä¾›ä¼˜åŒ–å»ºè®®
```

#### 2. ç”Ÿæˆæ™ºèƒ½åˆ†ææŠ¥å‘Š

```powershell
# åˆ›å»ºåˆ†ææŠ¥å‘Šè„šæœ¬
@"
import mlflow
from mlflow.tracking import MlflowClient
import pandas as pd
import numpy as np

client = MlflowClient()

# è·å–æ‰€æœ‰å®éªŒ
experiments = client.search_experiments()
all_data = []

for exp in experiments:
    runs = client.search_runs([exp.experiment_id])
    for run in runs:
        metrics = run.data.metrics
        params = run.data.params
        
        if 'final_val_accuracy' in metrics:
            all_data.append({
                'å®éªŒåç§°': run.info.run_id[:8],
                'å­¦ä¹ ç‡': float(params.get('learning_rate', 0)),
                'æ‰¹æ¬¡å¤§å°': int(params.get('batch_size', 32)),
                'è®­ç»ƒè½®æ•°': int(params.get('num_epochs', 10)),
                'éªŒè¯å‡†ç¡®ç‡': metrics['final_val_accuracy'],
                'è®­ç»ƒå‡†ç¡®ç‡': metrics.get('final_train_accuracy', 0),
            })

if all_data:
    df = pd.DataFrame(all_data)
    
    # åˆ†ææœ€ä½³é…ç½®
    best_run = df.loc[df['éªŒè¯å‡†ç¡®ç‡'].idxmax()]
    
    print("\n" + "="*60)
    print("ğŸ“Š å®éªŒåˆ†ææŠ¥å‘Š")
    print("="*60)
    print(f"\nâœ… æœ€ä½³å®éªŒé…ç½®:")
    print(f"   å­¦ä¹ ç‡: {best_run['å­¦ä¹ ç‡']}")
    print(f"   æ‰¹æ¬¡å¤§å°: {best_run['æ‰¹æ¬¡å¤§å°']}")
    print(f"   è®­ç»ƒè½®æ•°: {best_run['è®­ç»ƒè½®æ•°']}")
    print(f"   éªŒè¯å‡†ç¡®ç‡: {best_run['éªŒè¯å‡†ç¡®ç‡']:.2f}%")
    
    print(f"\nğŸ“ˆ ç»Ÿè®¡ä¿¡æ¯:")
    print(f"   å¹³å‡å‡†ç¡®ç‡: {df['éªŒè¯å‡†ç¡®ç‡'].mean():.2f}%")
    print(f"   æœ€é«˜å‡†ç¡®ç‡: {df['éªŒè¯å‡†ç¡®ç‡'].max():.2f}%")
    print(f"   æœ€ä½å‡†ç¡®ç‡: {df['éªŒè¯å‡†ç¡®ç‡'].min():.2f}%")
    print(f"   å‡†ç¡®ç‡æ ‡å‡†å·®: {df['éªŒè¯å‡†ç¡®ç‡'].std():.2f}%")
    
    # å»ºè®®
    print(f"\nğŸ’¡ æ™ºèƒ½å»ºè®®:")
    if best_run['å­¦ä¹ ç‡'] > 0.01:
        print("   - å½“å‰å­¦ä¹ ç‡è¾ƒé«˜ï¼Œå»ºè®®å°è¯•é™ä½å­¦ä¹ ç‡ (0.001-0.005)")
    elif best_run['å­¦ä¹ ç‡'] < 0.0001:
        print("   - å½“å‰å­¦ä¹ ç‡è¾ƒä½ï¼Œå»ºè®®å°è¯•æé«˜å­¦ä¹ ç‡ (0.001-0.01)")
    else:
        print("   - å­¦ä¹ ç‡è®¾ç½®åˆç†")
    
    if best_run['éªŒè¯å‡†ç¡®ç‡'] < 80:
        print("   - å‡†ç¡®ç‡è¾ƒä½ï¼Œå»ºè®®:")
        print("     * å¢åŠ è®­ç»ƒè½®æ•°")
        print("     * å°è¯•æ•°æ®å¢å¼º")
        print("     * è°ƒæ•´æ¨¡å‹æ¶æ„")
    
    if df['éªŒè¯å‡†ç¡®ç‡'].std() > 5:
        print("   - å®éªŒç»“æœæ³¢åŠ¨è¾ƒå¤§ï¼Œå»ºè®®:")
        print("     * å¢åŠ æ›´å¤šå®éªŒæ¬¡æ•°")
        print("     * æ£€æŸ¥æ•°æ®è´¨é‡")
    
    print("\n" + "="*60)
else:
    print("âš ï¸ æ²¡æœ‰æ‰¾åˆ°å®éªŒæ•°æ®ï¼Œè¯·å…ˆè¿è¡Œä¸€äº›å®éªŒ")
"@ | Out-File -FilePath generate_analysis_report.py -Encoding utf8

# ç”Ÿæˆåˆ†ææŠ¥å‘Š
python generate_analysis_report.py
```

### å®æ—¶ç›‘æ§å®éªŒè¿›åº¦

```powershell
# åˆ›å»ºç›‘æ§è„šæœ¬
@"
import mlflow
from mlflow.tracking import MlflowClient
import time

client = MlflowClient()

print("ğŸ” ç›‘æ§å®éªŒè¿›åº¦...")
print("æŒ‰ Ctrl+C åœæ­¢ç›‘æ§\n")

try:
    while True:
        experiments = client.search_experiments()
        total_runs = 0
        running_runs = 0
        
        for exp in experiments:
            runs = client.search_runs([exp.experiment_id])
            for run in runs:
                total_runs += 1
                if run.info.status == 'RUNNING':
                    running_runs += 1
        
        print(f"ğŸ“Š æ€»å®éªŒæ•°: {total_runs} | è¿è¡Œä¸­: {running_runs}", end='\r')
        time.sleep(5)
except KeyboardInterrupt:
    print("\n\nâœ… ç›‘æ§å·²åœæ­¢")
"@ | Out-File -FilePath monitor_experiments.py -Encoding utf8

# è¿è¡Œç›‘æ§
python monitor_experiments.py
```

---

## ğŸ¯ ç¬¬äº”éƒ¨åˆ†ï¼šå®éªŒå·¥ä½œæµç¨‹ç¤ºä¾‹

### å®Œæ•´å®éªŒæµç¨‹

```powershell
# ============================================
# å®Œæ•´å®éªŒå·¥ä½œæµç¨‹
# ============================================

# æ­¥éª¤1: å¯åŠ¨æœåŠ¡
# ç»ˆç«¯1 - Streamlit
streamlit run app\web\streamlit_app_simple.py

# ç»ˆç«¯2 - MLflow UI
mlflow ui

# æ­¥éª¤2: è¿è¡Œå®éªŒ
# æ–¹å¼A: é€šè¿‡Webç•Œé¢
# è®¿é—® http://localhost:8501
# é€‰æ‹©"è¿è¡Œæ–°å®éªŒ" â†’ é…ç½®å‚æ•° â†’ å¼€å§‹å®éªŒ

# æ–¹å¼B: å‘½ä»¤è¡Œè¿è¡Œ
python main.py

# æ–¹å¼C: æ‰¹é‡å®éªŒ
python run_batch_experiments.py

# æ­¥éª¤3: æŸ¥çœ‹ç»“æœ
# æ–¹å¼A: Streamlitç•Œé¢
# http://localhost:8501 â†’ "æŸ¥çœ‹å†å²å®éªŒ"

# æ–¹å¼B: MLflow UI
# http://localhost:5000

# æ–¹å¼C: ç”Ÿæˆåˆ†ææŠ¥å‘Š
python generate_analysis_report.py

# æ­¥éª¤4: æ ¹æ®å»ºè®®ä¼˜åŒ–
# æŸ¥çœ‹åˆ†ææŠ¥å‘Šä¸­çš„å»ºè®®
# è°ƒæ•´å‚æ•°é‡æ–°å®éªŒ
```

### å¿«é€Ÿå®éªŒæ¨¡æ¿

```powershell
# åˆ›å»ºå¿«é€Ÿå®éªŒæ¨¡æ¿
@"
from main import DroneVisionExperiment
import mlflow

# å®éªŒé…ç½®
config = {
    'name': 'å¿«é€Ÿå®éªŒ',
    'samples': 1000,
    'epochs': 10,
    'learning_rate': 0.001
}

print(f"ğŸš€ å¼€å§‹å®éªŒ: {config['name']}")

# åˆ›å»ºå¹¶è¿è¡Œå®éªŒ
experiment = DroneVisionExperiment(config['name'])
images, labels, class_names = experiment.generate_synthetic_data(config['samples'])
train_dataset, val_dataset, test_dataset = experiment.prepare_data(images, labels)
history, test_accuracy = experiment.train_model(
    num_epochs=config['epochs'],
    learning_rate=config['learning_rate']
)

print(f"âœ… å®éªŒå®Œæˆï¼å‡†ç¡®ç‡: {test_accuracy:.2f}%")
print(f"ğŸ“Š æŸ¥çœ‹ç»“æœ: http://localhost:5000")
"@ | Out-File -FilePath quick_experiment.py -Encoding utf8

# ä½¿ç”¨æ¨¡æ¿å¿«é€Ÿå®éªŒ
python quick_experiment.py
```

---

## ğŸ”§ å¸¸è§æ“ä½œå¿«é€Ÿå‚è€ƒ

### UIä¿®æ”¹å¿«é€Ÿå‘½ä»¤

```powershell
# ä¿®æ”¹é¢œè‰²åé‡å¯
streamlit run app\web\streamlit_app_simple.py

# æ¸…é™¤ç¼“å­˜
streamlit cache clear

# æŸ¥çœ‹æ—¥å¿—
streamlit run app\web\streamlit_app_simple.py --logger.level=debug
```

### å®éªŒç›¸å…³å¿«é€Ÿå‘½ä»¤

```powershell
# è¿è¡Œå•ä¸ªå®éªŒ
python main.py

# æŸ¥çœ‹MLflowå®éªŒ
mlflow ui

# åˆ—å‡ºæ‰€æœ‰å®éªŒ
python -c "from mlflow.tracking import MlflowClient; client = MlflowClient(); [print(f'{exp.name}: {exp.experiment_id}') for exp in client.search_experiments()]"

# åˆ é™¤å®éªŒï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
# mlflow experiments delete <experiment_id>
```

### æ•°æ®æŸ¥çœ‹å¿«é€Ÿå‘½ä»¤

```powershell
# æŸ¥çœ‹æ•°æ®åº“ç»Ÿè®¡
python -c "import sqlite3; conn = sqlite3.connect('database/drone_vision.db'); cursor = conn.cursor(); cursor.execute('SELECT COUNT(*) FROM experiments'); print('å®éªŒæ•°é‡:', cursor.fetchone()[0]); conn.close()"

# å¯¼å‡ºå®éªŒæ•°æ®
python export_results.py

# ç”Ÿæˆåˆ†ææŠ¥å‘Š
python generate_analysis_report.py
```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ä¿®æ”¹UIåå¿…é¡»é‡å¯Streamlit**æ‰èƒ½çœ‹åˆ°æ•ˆæœ
2. **å®éªŒæ•°æ®ä¿å­˜åœ¨MLflow**ï¼Œé»˜è®¤åœ¨ `mlruns/` ç›®å½•
3. **æ•°æ®åº“æ–‡ä»¶**åœ¨ `database/drone_vision.db`
4. **å¯è§†åŒ–ç»“æœ**è‡ªåŠ¨ç”Ÿæˆå¹¶ä¿å­˜
5. **å»ºè®®å®šæœŸå¯¼å‡ºå®éªŒæ•°æ®**ä½œä¸ºå¤‡ä»½

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

ç°åœ¨æ‚¨å¯ä»¥ï¼š

1. **ä¿®æ”¹UI**: ä½¿ç”¨PowerShellè„šæœ¬æˆ–ç›´æ¥ç¼–è¾‘ `app\web\streamlit_app_simple.py`
2. **è¿è¡Œå®éªŒ**: é€šè¿‡Webç•Œé¢æˆ–å‘½ä»¤è¡Œ
3. **æŸ¥çœ‹ç»“æœ**: åœ¨Streamlitæˆ–MLflow UIä¸­æŸ¥çœ‹
4. **è·å–å»ºè®®**: è¿è¡Œåˆ†ææŠ¥å‘Šè„šæœ¬è·å–æ™ºèƒ½å»ºè®®

**ç¥æ‚¨å®éªŒé¡ºåˆ©ï¼** ğŸš€

---

*æµ·å—åšæ‚¦ç§‘æŠ€æœ‰é™å…¬å¸ - å¤§ç–†æ— äººæœºè§†è§‰æ™ºèƒ½Agentç³»ç»Ÿ*

